<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miembros del Club</title>
</head>
<body>
    <h1>Miembros del Club</h1>

    <!-- Sección para mostrar los jugadores y sus estadísticas -->
    <div id="players-info">
        <p>Cargando jugadores...</p>
    </div>

    <script type="module">
        // Obtener los datos de los jugadores desde el servidor
        async function fetchClubMembers() {
            try {
                const response = await fetch('/players-info'); // Ruta para obtener la información del club
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error al obtener los miembros del club:', error);
                return [];
            }
        }

        // Mostrar la información de los jugadores
        async function renderPlayersInfo() {
            const players = await fetchClubMembers();
            const playersInfoSection = document.getElementById('players-info');

            if (players.length === 0) {
                playersInfoSection.innerHTML = '<p>No se pudo obtener la información de los jugadores.</p>';
                return;
            }

            const playersHtml = players.map(player => {
                return `
                    <div>
                        <h2>${player.name}</h2>
                        <p><strong>Tag:</strong> ${player.tag}</p>
                        <p><strong>Victorias:</strong> ${player.wins}</p>
                    </div>
                `;
            }).join('');

            playersInfoSection.innerHTML = playersHtml;
        }

        // Cargar la información al inicio
        document.addEventListener('DOMContentLoaded', renderPlayersInfo);
    </script>
</body>
</html>